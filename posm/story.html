

<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>The Story · The Outpost</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="keywords" content="Nick Hallahan,maps,GIS,Android,POSM,OpenMapKit,map renderers,Tangram">
        <meta name="author" content="Nicholas Hallahan">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="hardware.html" />
    
    
    <link rel="prev" href="./" />
    

        <link rel="shortcut icon" href="/images/favicon.png" type="image/png">
    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            <div class="site-heading">
                <div class="site-name">The Outpost</div>
                
                <div id="book-search-input" role="search">
                    <form id="search-form">
                        <input type="text" placeholder="Search The Outpost" />
                    </form>
                </div>
                
            </div>
            
                <nav role="navigation">
                


<ul class="summary">
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Welcome
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../openmapkit/">
            
                <a href="../openmapkit/">
            
                    
                    OpenMapKit
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../openmapkit/android.html">
            
                <a href="../openmapkit/android.html">
            
                    
                    OpenMapKit Android
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../openmapkit/server.html">
            
                <a href="../openmapkit/server.html">
            
                    
                    OpenMapKit Server
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="./">
            
                <a href="./">
            
                    
                    POSM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="3.1.1" data-path="story.html">
            
                <a href="story.html">
            
                    
                    The Story
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="hardware.html">
            
                <a href="hardware.html">
            
                    
                    Hardware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="software.html">
            
                <a href="software.html">
            
                    
                    Software
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../modern-map-renderers/tangram-es/">
            
                <a href="../modern-map-renderers/tangram-es/">
            
                    
                    Tangram ES
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../modern-map-renderers/tangram-es/mbtiles.html">
            
                <a href="../modern-map-renderers/tangram-es/mbtiles.html">
            
                    
                    Offline MBTiles Support
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../modern-map-renderers/tangram-es/osm-xml-data-source.html">
            
                <a href="../modern-map-renderers/tangram-es/osm-xml-data-source.html">
            
                    
                    OSM XML Data Source
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../modern-map-renderers/tangram-es/installation.html">
            
                <a href="../modern-map-renderers/tangram-es/installation.html">
            
                    
                    Android Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../modern-map-renderers/tangram-es/jni.html">
            
                <a href="../modern-map-renderers/tangram-es/jni.html">
            
                    
                    Android JNI Bridge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="../modern-map-renderers/tangram-es/tangram-android-sdk.html">
            
                <a href="../modern-map-renderers/tangram-es/tangram-android-sdk.html">
            
                    
                    Tangram Android SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="../modern-map-renderers/tangram-es/notes-tips-and-tricks.html">
            
                <a href="../modern-map-renderers/tangram-es/notes-tips-and-tricks.html">
            
                    
                    Notes, Tips and Tricks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../leaflet/">
            
                <a href="../leaflet/">
            
                    
                    Leaflet Plugins
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../resume/">
            
                <a href="../resume/">
            
                    
                    Résumé
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../wiki/">
            
                <a href="../wiki/">
            
                    
                    Wiki
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >The Story</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                            <div id="book-search-results">
                                <div class="search-noresults">
                                    <section class="normal markdown-section">
                                    
                                    <h1 id="the-story">The Story</h1>
<p>The idea of the POSM came at the <a href="http://wiki.openstreetmap.org/wiki/HOT_Summit" target="_blank">HOT Summit 2015</a> at the <a href="http://www.openstreetmap.org/way/66409265#map=19/38.89636/-77.04556" target="_blank">American Red Cross headquarters</a> in Washington, DC. Here we presented the first release of <a href="openmapkit/index.md">OpenMapKit</a>. At that time, OpenMapKit only had the Android component. We were relying on a 3rd party ODK Aggregate server in the cloud to submit survey data. This solution was a great start, and it served our needs when we had a good internet connection at the base camp of an urban survey.</p>
<p>The primary use case of OpenMapKit is to enable a fleet of volunteers to check out a phone and survey an assigned area. This is a standard Missing Maps <a href="workflow.md">workflow</a> used by the Red Cross, World Bank, Doctors Without Borders (MSF), and other NGOs. It is a big, all day event, where people come together and enhance OpenStreetMap for a given community.</p>
<p>We use a suite of tools to get the job done, and we typically have 30+ volunteers involved. We gather data in the field both with OpenMapKit and Field Papers, and when we return to base camp, we validate and submit this data ultimately to OpenStreetMap.</p>
<p>Usually this work is conducted in vulnerable communities in developing countries. When we are working in an urban area, we can usually find an internet connection, but the reliability and bandwidth is often very limited. When 30+ people try to access OpenDataKit and OpenStreetMap services in the cloud, <strong>the internet connection is guaranteed to grind to a halt!</strong></p>
<p>In fact, this problem presents itself everywhere, including the Red Cross HQ in Washington, DC. Further, groups such as the MSF conduct surveys in very remote, rural areas. The team will go days without an internet connection; cloud services are simply <em>out of reach</em>.</p>
<p>The question at hand is:</p>
<blockquote>
<p>How do you sync data to the cloud when you are somewhere so remote that internet access is simply not an option?</p>
</blockquote>
<h2 id="inspiration">Inspiration</h2>
<p>We are not the only ones using OpenDataKit to collect data. In fact, ODK is the most widely used data collection tool for mobile electronic surveys. There is a large ecosystem of tools and services, and it has become a standard. For years people have been gathering GPS points using this tool, and OpenMapKit&apos;s primary contribution is the ability to collect OSM data and directly tag OSM data from the Android app.</p>
<p>At the 2015 HOT Summit, we encountered several organizations that use ODK, and the one pioneer in particular that stuck out was Ivan Gayton from Doctors Without Borders.</p>
<p><figure style="float:right;"><img src="../images/posm/intel-edison.jpg" alt="Intel Edison" style="max-width:275px;"><figcaption style="text-align:center;font-style:italic;">Figure: Intel Edison Chip</figcaption></figure>Ivan had a backpack full of <a href="https://en.wikipedia.org/wiki/Intel_Edison" target="_blank">Intel Edison</a>s, a tiny, low power embedded system that runs linux and has integrated wifi. With 4 GB of SSD space and a 500Mhz dual core Intel Atom CPU, we don&apos;t have very much power, but it is more than enough to power an ODK Aggregate Server.</p>
<p>Ivan, having lead the OSM mapping effort in <a href="http://www.openstreetmap.org/node/27564973#map=12/-11.6712/27.5125" target="_blank">Lubumbashi, DRC</a> and other areas in Sub-Saharan Africa, was interested in using OpenMapKit, but he would need a solution that fully functions offline. So, to explore this concept, we took our computers outside, plugged in a fresh Intel Edision into our USB ports, and installed the classic <a href="https://opendatakit.org/use/aggregate/" target="_blank">ODK Aggregate</a>. After 45 minutes of admin, we got it running. And, we were able to submit OSM data in a survey from OpenMapKit to the device.</p>
<h2 id="putting-it-all-together">Putting it All Together</h2>
<p>As we continued working with the Red Cross, <a href="http://spatialdev.com/" target="_blank">SpatialDev</a> entered a new phase of work--a project to bring OpenMapKit to the next level. The initial impetus for me was to build a server-side component for OpenMapKit, a simple web service for users to submit their survey data. Still, we wanted to have a deeper integration with OpenStreetMap tools. And, the offline problem had to be solved with more than just OpenDataKit. To achieve this goal, we began a partnership with <a href="http://stamen.com/" target="_blank">Stamen Design</a>, the creator of <a href="field-papers.html">Field Papers</a>. The premise: <em>integrate OpenMapKit with Field Papers to create a single, cohesive experience</em>.</p>
<p>The workflow used in <a href="http://www.missingmaps.org/" target="_blank">Missing Maps</a> surveys and mapathons involves a suite of many open source software components. The initial idea was to use the Intel Edison as the server component for our simple ODK Aggregate server, now called <a href="../openmapkit/server.html">OpenMapKit Server</a>. In fact, OpenMapKit Server runs quite well on the Intel Edison. Our goal, however, was larger--we wanted to run our own OpenStreetMap server, as well as Field Papers on our low powered device.</p>
<h3 id="more-power">More Power</h3>
<p>Running our own OpenStreetMap using existing software requires a bit more horsepower than the Intel Edison provides. We began a software integration process, now solidified as <a href="build.md">POSM Build</a>, on several pieces of hardware: the <a href="https://en.wikipedia.org/wiki/Raspberry_Pi" target="_blank">Raspberry Pi</a>, the <a href="http://www.brck.com/2014/11/brckpi/" target="_blank">Brck Pi</a>, as well as the <a href="https://en.wikipedia.org/wiki/Next_Unit_of_Computing" target="_blank">Intel NUC</a>. Long story short, we needed more power than the Pi had to offer, and the Intel NUC was just right.</p>

                                    
                                    </section>
                                </div>
                                <div class="search-results">
                                    <div class="has-results">
                                        
                                        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
                                        <ul class="search-results-list"></ul>
                                        
                                    </div>
                                    <div class="no-results">
                                        
                                        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
                                        
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: POSM">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="hardware.html" class="navigation navigation-next " aria-label="Next page: Hardware">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        // fix for detecting taps on book body for mobile and narrow screen
        function mobileSidebarCloseFix() {
            function checkToToggle(e) {
                if ($(window).width() <= 600 
                        && e.target.tagName !== 'I'
                        && e.target.tagName !== 'A'
                        && gitbook.sidebar.isOpen()) {
                    gitbook.sidebar.toggle();
                }
            }
            $bookbody = $('.book-body');
            $bookbody.click(function(e) {
                checkToToggle(e);
            });
            $bookbody.on('touchend', function(e) {
                checkToToggle(e);
            });
        }

        // make keyboard disappear when pressing go or enter when typing
        // in search input. fix for mobile behavior.
        function searchInputMobileFix() {
            $('#search-form').submit(function(e) {
                e.preventDefault();
                if(document.activeElement) {
                    document.activeElement.blur();
                    if ($(window).width() <= 600 && gitbook.sidebar.isOpen()) {
                        gitbook.sidebar.toggle();
                    }
                }
            });
        }

        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"The Story","level":"3.1.1","depth":2,"next":{"title":"Hardware","level":"3.1.2","depth":2,"path":"posm/hardware.md","ref":"posm/hardware.md","articles":[]},"previous":{"title":"POSM","level":"3.1","depth":1,"path":"posm/index.md","ref":"posm/index.md","articles":[{"title":"The Story","level":"3.1.1","depth":2,"path":"posm/story.md","ref":"posm/story.md","articles":[]},{"title":"Hardware","level":"3.1.2","depth":2,"path":"posm/hardware.md","ref":"posm/hardware.md","articles":[]},{"title":"Software","level":"3.1.3","depth":2,"path":"posm/software.md","ref":"posm/software.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["expandable-chapters","anchorjs"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"fontsettings":{"theme":"white","family":"serif","size":2},"expandable-chapters":{},"anchorjs":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Nicholas Hallahan","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"posm/story.md","mtime":"2016-07-22T14:39:42.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-09-30T19:57:26.920Z"},"basePath":"..","book":{"language":""}});
            mobileSidebarCloseFix();
            searchInputMobileFix();
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>
